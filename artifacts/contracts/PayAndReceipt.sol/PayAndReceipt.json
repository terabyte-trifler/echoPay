{
  "_format": "hh-sol-artifact-1",
  "contractName": "PayAndReceipt",
  "sourceName": "contracts/PayAndReceipt.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "receiptNft",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "receiptId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "payer",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "merchant",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "code",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "metaURI",
          "type": "string"
        }
      ],
      "name": "ReceiptIssued",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "erc20",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "merchant",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "code",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "metaURI",
          "type": "string"
        }
      ],
      "name": "pay",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "merchant",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "code",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "metaURI",
          "type": "string"
        }
      ],
      "name": "payETH",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "receipt",
      "outputs": [
        {
          "internalType": "contract IReceiptNFT",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b506040516107c53803806107c583398101604081905261002f91610062565b60008054336001600160a01b031991821617909155600180549091166001600160a01b0392909216919091179055610092565b60006020828403121561007457600080fd5b81516001600160a01b038116811461008b57600080fd5b9392505050565b610724806100a16000396000f3fe60806040526004361061003f5760003560e01c80638da5cb5b14610044578063973e8f1214610080578063beaa830d14610095578063e1e6b898146100b5575b600080fd5b34801561005057600080fd5b50600054610064906001600160a01b031681565b6040516001600160a01b03909116815260200160405180910390f35b61009361008e3660046104f1565b6100d5565b005b3480156100a157600080fd5b506100936100b0366004610572565b610280565b3480156100c157600080fd5b50600154610064906001600160a01b031681565b600034116101175760405162461bcd60e51b815260040161010e906020808252600490820152637a65726f60e01b604082015260600190565b60405180910390fd5b6000856001600160a01b03163460405160006040518083038185875af1925050503d8060008114610164576040519150601f19603f3d011682016040523d82523d6000602084013e610169565b606091505b50509050806101a65760405162461bcd60e51b81526020600482015260096024820152681e19995c8819985a5b60ba1b604482015260640161010e565b60015460405163d0def52160e01b81526000916001600160a01b03169063d0def521906101db90339088908890600401610636565b6020604051808303816000875af11580156101fa573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061021e9190610664565b9050866001600160a01b0316336001600160a01b0316827f3082b6386ae980174f81b3cb0d517adc4740c6d1ae8401548ee6f9b4858d89366000348b8b8b8b60405161026f9695949392919061067d565b60405180910390a450505050505050565b6001600160a01b0387166102c05760405162461bcd60e51b8152602060048201526007602482015266065726332303d360cc1b604482015260640161010e565b600086116102f95760405162461bcd60e51b815260040161010e906020808252600490820152637a65726f60e01b604082015260600190565b6040516323b872dd60e01b81523360048201526001600160a01b038681166024830152604482018890528816906323b872dd906064016020604051808303816000875af115801561034e573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061037291906106c5565b6103b25760405162461bcd60e51b81526020600482015260116024820152701d1c985b9cd9995c919c9bdb4819985a5b607a1b604482015260640161010e565b60015460405163d0def52160e01b81526000916001600160a01b03169063d0def521906103e790339087908790600401610636565b6020604051808303816000875af1158015610406573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061042a9190610664565b9050856001600160a01b0316336001600160a01b0316827f3082b6386ae980174f81b3cb0d517adc4740c6d1ae8401548ee6f9b4858d89368b8b8a8a8a8a60405161047a9695949392919061067d565b60405180910390a45050505050505050565b80356001600160a01b03811681146104a357600080fd5b919050565b60008083601f8401126104ba57600080fd5b50813567ffffffffffffffff8111156104d257600080fd5b6020830191508360208285010111156104ea57600080fd5b9250929050565b60008060008060006060868803121561050957600080fd5b6105128661048c565b9450602086013567ffffffffffffffff8082111561052f57600080fd5b61053b89838a016104a8565b9096509450604088013591508082111561055457600080fd5b50610561888289016104a8565b969995985093965092949392505050565b600080600080600080600060a0888a03121561058d57600080fd5b6105968861048c565b9650602088013595506105ab6040890161048c565b9450606088013567ffffffffffffffff808211156105c857600080fd5b6105d48b838c016104a8565b909650945060808a01359150808211156105ed57600080fd5b506105fa8a828b016104a8565b989b979a50959850939692959293505050565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b6001600160a01b038416815260406020820181905260009061065b908301848661060d565b95945050505050565b60006020828403121561067657600080fd5b5051919050565b60018060a01b03871681528560208201526080604082015260006106a560808301868861060d565b82810360608401526106b881858761060d565b9998505050505050505050565b6000602082840312156106d757600080fd5b815180151581146106e757600080fd5b939250505056fea2646970667358221220ed0977513c9772e099e8d84aaed78ce8d434b62d6b416fa210d49222d2579f9264736f6c63430008180033",
  "deployedBytecode": "0x60806040526004361061003f5760003560e01c80638da5cb5b14610044578063973e8f1214610080578063beaa830d14610095578063e1e6b898146100b5575b600080fd5b34801561005057600080fd5b50600054610064906001600160a01b031681565b6040516001600160a01b03909116815260200160405180910390f35b61009361008e3660046104f1565b6100d5565b005b3480156100a157600080fd5b506100936100b0366004610572565b610280565b3480156100c157600080fd5b50600154610064906001600160a01b031681565b600034116101175760405162461bcd60e51b815260040161010e906020808252600490820152637a65726f60e01b604082015260600190565b60405180910390fd5b6000856001600160a01b03163460405160006040518083038185875af1925050503d8060008114610164576040519150601f19603f3d011682016040523d82523d6000602084013e610169565b606091505b50509050806101a65760405162461bcd60e51b81526020600482015260096024820152681e19995c8819985a5b60ba1b604482015260640161010e565b60015460405163d0def52160e01b81526000916001600160a01b03169063d0def521906101db90339088908890600401610636565b6020604051808303816000875af11580156101fa573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061021e9190610664565b9050866001600160a01b0316336001600160a01b0316827f3082b6386ae980174f81b3cb0d517adc4740c6d1ae8401548ee6f9b4858d89366000348b8b8b8b60405161026f9695949392919061067d565b60405180910390a450505050505050565b6001600160a01b0387166102c05760405162461bcd60e51b8152602060048201526007602482015266065726332303d360cc1b604482015260640161010e565b600086116102f95760405162461bcd60e51b815260040161010e906020808252600490820152637a65726f60e01b604082015260600190565b6040516323b872dd60e01b81523360048201526001600160a01b038681166024830152604482018890528816906323b872dd906064016020604051808303816000875af115801561034e573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061037291906106c5565b6103b25760405162461bcd60e51b81526020600482015260116024820152701d1c985b9cd9995c919c9bdb4819985a5b607a1b604482015260640161010e565b60015460405163d0def52160e01b81526000916001600160a01b03169063d0def521906103e790339087908790600401610636565b6020604051808303816000875af1158015610406573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061042a9190610664565b9050856001600160a01b0316336001600160a01b0316827f3082b6386ae980174f81b3cb0d517adc4740c6d1ae8401548ee6f9b4858d89368b8b8a8a8a8a60405161047a9695949392919061067d565b60405180910390a45050505050505050565b80356001600160a01b03811681146104a357600080fd5b919050565b60008083601f8401126104ba57600080fd5b50813567ffffffffffffffff8111156104d257600080fd5b6020830191508360208285010111156104ea57600080fd5b9250929050565b60008060008060006060868803121561050957600080fd5b6105128661048c565b9450602086013567ffffffffffffffff8082111561052f57600080fd5b61053b89838a016104a8565b9096509450604088013591508082111561055457600080fd5b50610561888289016104a8565b969995985093965092949392505050565b600080600080600080600060a0888a03121561058d57600080fd5b6105968861048c565b9650602088013595506105ab6040890161048c565b9450606088013567ffffffffffffffff808211156105c857600080fd5b6105d48b838c016104a8565b909650945060808a01359150808211156105ed57600080fd5b506105fa8a828b016104a8565b989b979a50959850939692959293505050565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b6001600160a01b038416815260406020820181905260009061065b908301848661060d565b95945050505050565b60006020828403121561067657600080fd5b5051919050565b60018060a01b03871681528560208201526080604082015260006106a560808301868861060d565b82810360608401526106b881858761060d565b9998505050505050505050565b6000602082840312156106d757600080fd5b815180151581146106e757600080fd5b939250505056fea2646970667358221220ed0977513c9772e099e8d84aaed78ce8d434b62d6b416fa210d49222d2579f9264736f6c63430008180033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
